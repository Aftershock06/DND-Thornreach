:root{
    --left-w: 280px;
    --right-w: 360px;
    --gap: 12px;
  }
  
  * { box-sizing: border-box; }
  html, body { height: 100%; margin: 0; }
  body { font-family: system-ui, sans-serif; }
  
.siteHeader, .siteFooter { padding: 8px 12px; background: #111; color: #eee; }
  
.layout {
    display: grid;
    grid-template-columns: var(--left-w) 1fr;
    gap: var(--gap);
    min-height: calc(100vh - 96px);
    padding: var(--gap);
    position: relative; /* so we can absolutely-position the drawer inside */
  }
  
.layout.drawer-closed {
    grid-template-columns: var(--left-w) 1fr 0;
}
  
/* Place children in the 3 columns */
.sidebarLeft   { grid-column: 1; }
.mapArea       { grid-column: 2; }
.sidebarRight  { grid-column: 3; }

.mapArea {
    position: relative;
    z-index: 0;       /* base layer */
    background: #222;
    min-height: 60vh;
    border-radius: 10px;
    overflow: hidden;
  }

.sidebarLeft{
    background: #1a1a1a;
    color: #ddd;
    border-radius: 10px;
    padding: 12px;
    overflow: auto;        /* scroll if content gets tall */
  }

.sidebarRight {
    position: absolute;  /* take it out of the grid flow */
    top: var(--gap);
    right: var(--gap);
    bottom: var(--gap);
    width: var(--right-w);
    background: #111;
    color: #eee;
    border-radius: 10px;
    padding: 12px 16px 16px;
    overflow: auto;
    box-shadow: -8px 0 16px rgba(0,0,0,.45);
    transition: transform 220ms ease;
    transform: translateX(0);           /* open position */
    z-index: 20;                        /* sit above the map */
  }
  
.sidebarRight.is-closed {
    transform: translateX(100%);        /* slide off to the right */
  }

.panelClose {
    position: absolute; top: 8px; right: 8px;
    background: transparent; border: 0; color: #bbb;
    font-size: 20px; line-height: 1; cursor: pointer;
  }
.panelClose:focus { outline: 2px solid #6cf; border-radius: 6px; }
  
/* Respect reduced motion users */
@media (prefers-reduced-motion: reduce) {
    .sidebarRight { transition: none; }
  }

@media (max-width: 900px) {
    .layout {
      grid-template-columns: 1fr;     /* single column */
      gap: var(--gap);
    }
    .sidebarLeft,
    .mapArea,
    .sidebarRight {
      grid-column: 1;                  /* stack them */
    }
  
    /* Convert right panel to overlay on mobile */
    .sidebarRight {
      position: fixed;
      top: 56px;             /* below header */
      right: 0;
      bottom: 0;
      width: min(92vw, 420px);
      max-width: 100%;
      border-top-left-radius: 14px;
      border-bottom-left-radius: 0;
      z-index: 40;
      box-shadow: -12px 0 24px rgba(0,0,0,.45);
    }
    .sidebarRight.is-closed {
      transform: translateX(100%); /* slide completely off-screen */
    }
  
    /* Give the map some height in the stack */
    .mapArea { min-height: 55vh; }
  }
  
/* Pretty scrollbars where supported */
.sidebarLeft, .sidebarRight {
    scrollbar-gutter: stable;
  }
  .sidebarLeft::-webkit-scrollbar,
  .sidebarRight::-webkit-scrollbar { width: 10px; }
  .sidebarLeft::-webkit-scrollbar-thumb,
  .sidebarRight::-webkit-scrollbar-thumb {
    background: #333; border-radius: 6px;
  }
  
  /* Focus outlines (keyboard users) */
  :focus-visible {
    outline: 2px solid #6cf; outline-offset: 2px;
  }
